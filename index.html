<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" />
    <title>Hello React!</title>
    <script src="https://cdn.staticfile.org/react/16.4.0/umd/react.development.js"></script>
    <script src="https://cdn.staticfile.org/react-dom/16.4.0/umd/react-dom.development.js"></script>
    <script src="https://cdn.staticfile.org/babel-standalone/6.26.0/babel.min.js"></script>
</head>
<body>

<div id="example"></div>
<div id="app1"></div>
<div id="app2"></div>
<div id="app3"></div>
<script type="text/babel">

    function FormattedDate(props){
        return <h2>aaa现在是{props.date.toLocaleTimeString()}</h2>
    }

    class Clock extends React.Component{
        constructor(props){
            super(props);
            this.state = {
                date:new Date()
            }
        }
        componentDidMount(){
            this.timerId = setInterval(() => this.tick(),1000)
        }

        componentWillUnmount(){
            clearInterval(this.timerId)
        }
        tick(){
            this.setState({
                date:new Date()
            })
        }
        render(){
            return (
                <div>
                    <h1>Hello, world!</h1>
                    <FormattedDate date={this.state.date}/>
                </div>
            )
        }
    }

    function App(){
        return (
            <div>
                <Clock/>
                <Clock/>
                <Clock/>
            </div>
        )
    }

    // ReactDOM.render(
    //     <App />,
    //     document.getElementById('example')
    // );

    // let i = 1;
    //
    // let arr = [
    //     <h1 key="1">数组1</h1>,
    //     <h2 key="2">数组2</h2>
    // ];
    // ReactDOM.render(
    //     <div>{arr}</div>,
    //     document.getElementById('example')
    // );


    class WebSite extends React.Component{
        constructor(){
            super();

            this.state = {
                name:'duanduan',
                age:18
            }
        }
        render(){
            return (
                <div>
                    <Name name={this.state.name}/>
                    <Age age={this.state.age}/>
                </div>
            )
        }
    }

    class Name extends React.Component{
       render(){
           return (
               <h2>{this.props.name}</h2>
           )
       }
    }

    class Age extends React.Component{
        render(){
            return (
                <h3>{this.props.age}</h3>
            )
        }
    }

    ReactDOM.render(
        <WebSite/>,
        document.getElementById('app1')
    )


    class Toggle extends React.Component{
        constructor(props){
            super(props);
            this.state = {
                isToggleOn:true
            };

            // this.handleClick = this.handleClick.bind(this)
        }

        handleClick = (aaa) => {
            console.log(aaa)
            this.setState(preState => ({
                isToggleOn: !preState.isToggleOn
            }))
        }

        // handleClick(){
        //     this.setState(preState => ({
        //         isToggleOn: !preState.isToggleOn
        //     }))
        // }

        render(){
            let b =1;
            return (
                <button onClick={this.handleClick.bind(this,b)}>
                    {this.state.isToggleOn ? 'On':'Off'}
                </button>
            )
        }
    }

    ReactDOM.render(
        <Toggle/>,
        document.getElementById('app2')
    )


    function UserGreeting(props){
        return <h2>欢迎回来</h2>
    }

    function GuestGreeting(props){
        return <h2>请先注册</h2>
    }

    function Greeting(props){
        const isLoginIn = props.isLoginIn;
        if(isLoginIn){
            return <UserGreeting/>
        }else{
            return <GuestGreeting/>
        }
    }

    ReactDOM.render(
        <Greeting isLoginIn={false}/>,
        document.getElementById('app3')
    )
</script>

</body>
</html>
